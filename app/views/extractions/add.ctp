<div class="extractions form auto-validate">
<?php echo $this->Form->create('Extraction'); ?>
	<fieldset>
 		<legend><?php __('Add Extraction'); ?></legend>

  <?php 
		$m = [
				'name' => '<p class="m">Extract job name, random generated by default</p>',
				'domain_pattern' => '<p class="m">Extract domains matches this pattern only</p>',
				'url_pattern' => '<p class="m">Extract urls matches this pattern only, eg : "http://item.jd.com/\d+"</p>',
				'text_pattern' => '<p class="m">Extract pages whose text matches this pattern</p>'
		];

		$defaultName = $currentUser['name']."-extract-".date('YmdHis')."-".rand(1, 1000);
		$defaultName = preg_replace("/\s+/", "-", $defaultName);

		echo $this->Form->input('name', array('value' => $defaultName, 'after' => $m['name']));
//		echo $this->Form->input('domain_pattern', array('value' => '.+', 'after' => $m['domain_pattern']));
		echo $this->Form->input('url_pattern', array('value' => '.+', 'after' => $m['url_pattern']));
		echo $this->Form->input('text_pattern', array('value' => '.+', 'after' => $m['text_pattern']));
		echo $this->Form->input('description');
	?>
	</fieldset>
<?php echo $this->Form->end(__('Submit', true)); ?>
</div>
<div class="actions">
	<h3><?php __('Actions'); ?></h3>
	<ul>

		<li><?php echo $this->Html->link(__('List Extractions', true), array('action' => 'index'));?></li>
	</ul>
</div>
